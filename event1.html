<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>和の雰囲気アニメーション</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: url('washi_texture.jpg') repeat; /* 和紙のテクスチャ背景 */
      overflow-x: hidden;
      height: 100vh;
      position: relative;
    }
    .petal {
      position: absolute;
      top: -50px;
      width: 20px;
      height: 20px;
      background-image: url('sakura_petal.png'); /* 桜の花びら画像 */
      background-size: cover;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <!-- 花びら用の要素はJavaScriptで動的に追加します -->
  
  <!-- GSAPライブラリの読み込み -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <script>
    // 花びらを生成する関数
    function createPetal() {
      const petal = document.createElement('div');
      petal.classList.add('petal');
      petal.style.left = Math.random() * window.innerWidth + 'px';
      document.body.appendChild(petal);
      animatePetal(petal);
    }

    // 花びらにアニメーションを適用する関数
    function animatePetal(petal) {
      gsap.to(petal, {
        duration: 8 + Math.random() * 4,
        y: window.innerHeight + 100,
        x: "+=" + (Math.random() * 200 - 100),
        rotation: Math.random() * 360,
        ease: "power1.inOut",
        onComplete: () => {
          petal.remove();
          createPetal();  // 新たな花びらを生成して連続的なアニメーションにする
        }
      });
    }

    // 初期の花びらを複数生成
    for (let i = 0; i < 10; i++) {
      createPetal();
    }
  </script>
</body>
</html>
